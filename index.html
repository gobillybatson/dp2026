<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Scoreboard</title>
  <style>
    :root{
      --bg:#0b0f17; --card:#121a2a; --text:#e8eefc; --muted:#93a4c7; --line:#22304d;
      --good:#3ddc97; --bad:#ff6b6b;
      --score-font: "Bangers", "Impact", "Arial Black", "Trebuchet MS", system-ui, sans-serif;
    }
    *{ box-sizing:border-box; }
    body{ margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; background:var(--bg); color:var(--text); }
    a{ color:var(--text); text-decoration:none; }
    a:hover{ text-decoration:underline; }
    header{ max-width: 980px; margin:0 auto; padding:18px 16px 10px; }
    h1{ margin:0; font-size:32px; text-shadow: 0 0 8px #7df9ff, 0 0 16px rgba(125,249,255,.8), 0 0 26px rgba(125,249,255,.6); }
    .sub{ margin:6px 0 0; color:var(--muted); }
    main{ max-width: 980px; margin:0 auto; padding: 10px 16px 18px; }
    .card{ background:var(--card); border:1px solid var(--line); border-radius:18px; overflow:hidden; }
    .pad{ padding:16px; }
    table{ 
      width:100%; 
      border-collapse:collapse; 
      font-family: var(--score-font);
    }
    th,td{ padding:10px 12px; border-bottom:1px solid var(--line); text-align:left; }
    th{ font-size:14px; letter-spacing:.12em; text-transform:uppercase; color:var(--muted); }
    tr:last-child td{ border-bottom:none; }
    .rank{
      width:80px;
      font-size:20px;
      color:#e8eefc;
      letter-spacing:.04em;
      text-shadow:
        0 0 1px rgba(232,238,252,.9),
        0 0 6px rgba(125,249,255,.45);
    }
    .score{ width:130px; text-align:right; font-variant-numeric: tabular-nums; transition: transform .25s ease, color .25s ease; }
    .right{ text-align:right; }
    .row{ display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap; }
    .pill{ color:var(--muted); font-size:12px; border:1px solid var(--line); padding:2px 10px; border-radius:999px; }
    .btn{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 12px; border-radius:12px;
      border:1px solid var(--line); background:transparent; color:var(--text);
      cursor:pointer; font:inherit;
    }
    .btn:hover{ border-color:#2f3f63; }
    .list{ margin:12px 0 0; padding:0; list-style:none; }
    .list li{ padding:12px; border:1px solid var(--line); border-radius:12px; margin-bottom:10px; }
    .muted{ color:var(--muted); }
    .small{ font-size:12px; }
    .hide{ display:none !important; }

    @media (max-width: 520px){
      .rank{ width:60px; }
    }
  
    /* --- Player Picks Enhancements --- */
.pick-item{
  position: relative;
  padding-left: 64px;
  font-family: var(--score-font);
  font-size: 26px;
  letter-spacing: .5px;
  border-radius: 18px;
  text-shadow:
    0 0 1px rgba(232,238,252,.9),
    0 0 6px rgba(125,249,255,.45);
  animation: revealPick .4s ease both;
}

.pick-num{
  position:absolute;
  left:16px;
  top:50%;
  transform: translateY(-50%);
  width:36px;
  height:36px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:18px;
  font-weight:900;
  background:#7df9ff;
  color:#0b0f17;
  box-shadow: 0 0 10px rgba(125,249,255,.9);
}

.pick-item.last-pick{
  color:#ffd166;
  text-shadow: 0 0 8px #ffd166, 0 0 18px rgba(255,209,102,.9), 0 0 30px rgba(255,209,102,.7);
  border-color:#ffd166;
}

.pick-item.last-pick .pick-num{
  background:#ffd166;
  box-shadow: 0 0 12px rgba(255,209,102,1);
}

@keyframes revealPick{
  from{ opacity:0; transform: translateY(10px) scale(.95); }
  to{ opacity:1; transform: translateY(0) scale(1); }
}


        }

  
    /* ---- Player Picks styling (scoped, grid-based to prevent overlap) ---- */
    #picksList li{
      display: grid;
      grid-template-columns: 64px 1fr; /* hard column for number */
      align-items: center;
      column-gap: 24px;

      padding: 20px 22px;
      border-radius: 18px;
      margin-bottom: 16px;
      font-family: var(--score-font);
      font-size: 28px;
      letter-spacing: .6px;

      border: 1px solid rgba(125,249,255,.35);
      box-shadow: 0 0 14px rgba(125,249,255,.12);
      text-shadow:
    0 0 1px rgba(232,238,252,.9),
    0 0 6px rgba(63,169,245,.45);

      opacity: 0;
      transform: translateY(10px) scale(.98);
      animation: pickReveal .42s ease forwards;
    }

    #picksList li:hover{
      transform: translateY(0) scale(1.03);
      box-shadow: 0 0 22px rgba(125,249,255,.28);
    }

    #picksList li.last-pick{
      border-color: rgba(255,214,102,.55);
      box-shadow: 0 0 18px rgba(255,214,102,.18);
      text-shadow: 0 0 3px #d4a017, 0 0 8px rgba(212,160,23,.7), 0 0 16px rgba(212,160,23,.55);
    }

    
    #picksList li.last-pick 
    .pickText{
      line-height: 1.15;
      word-break: break-word;
    }

    @keyframes pickReveal{
      to { opacity: 1; transform: translateY(0) scale(1); }
    }

  
    /* ---- Player Picks layout with image ---- */
    .picks-wrap{
      display:block;
    }

    /* Picks stay inside the card, image floats outside visually */
    .picks-panel{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:18px;
      padding:16px;
    }

    .player-image{
      width:100%;
      border-radius:16px;
      border:1px solid var(--line);
      box-shadow: 0 0 18px rgba(0,0,0,.45);
      object-fit:cover;
    }

    @media (max-width: 720px){
      .picks-wrap{
        grid-template-columns: 1fr;
      }
    }

  
    
    /* Allow the photo to render outside the card bounds */
    


    .player-image{
      position: absolute;
      top: 32px;
      right: -240px; /* pushes image into black margin */
      width: 220px;
      border-radius:16px;
      border:none;
      box-shadow: 0 12px 30px rgba(0,0,0,.55);
    }

    @media (max-width: 1100px){
      .player-image{
        position: static;
        margin-top:24px;
        width:100%;
      }
    }

  

    /* ---- Deadpool sitting on the scoreboard ---- */
    .scoreboard-card{
      position: relative;
      overflow: visible;          /* allow Deadpool to sit outside the frame */
      margin-top: 160px;          /* push scoreboard down so nothing is obscured */
    }
    .deadpool-sit{
      position: absolute;
      top: -220px;               /* pull up so he "sits" on the top edge */
      left: 50%;
      transform: translateX(-50%);
      width: 240px;
      height: auto;
      z-index: 5;
      pointer-events: none;      /* never blocks clicks on the table/links */
      user-select: none;
      filter: drop-shadow(0 16px 26px rgba(0,0,0,.55));
    }
    @media (max-width: 720px){
      .scoreboard-card{ margin-top: 160px; 
      position: relative;
    
      overflow: visible;
    }
      .deadpool-sit{ top: -220px; width: 190px; left: 50%; }
    }
    @media (max-width: 420px){
      .scoreboard-card{ margin-top: 160px; 
      position: relative;
    
      overflow: visible;
    }
      .deadpool-sit{ top: -220px; width: 170px; left: 50%; }
    }

  </style>
    
</head>

<body>
  <header>
    <div class="row">
      <div>
        <h1 id="pageTitle">Scoreboard</h1>
        <div class="sub" id="pageSubtitle">Click a player to view their picks.</div>
      </div>
      <div class="row">
        <button class="btn" id="homeBtn" type="button" title="Go to scoreboard">üè† Scoreboard</button>
        <button class="btn" id="rulesBtn" type="button" title="View rules">üìú Rules</button>
        <button class="btn" id="talkBtn" type="button" title="Shit Talking">üí¨ Shit Talking</button>
        <button class="btn" id="dontPressBtn" type="button" title="Definitely do not press">üü• DO NOT PRESS</button>
      </div>
    </div>
  </header>

  <main>
    <!-- SCOREBOARD VIEW -->
    <section id="view-scoreboard" class="card scoreboard-card">
      <img src="deadpool.png" alt="" class="deadpool-sit" aria-hidden="true" />
      <table aria-label="Scoreboard">
        <thead>
          <tr>
            <th class="rank">Rank</th>
            <th>Player</th>
            <th class="score right">Points</th>
          </tr>
        </thead>
        <tbody id="scoreRows"></tbody>
      </table>
    </section>

    <!-- PLAYER VIEW -->
    <section id="view-player" class="card hide">
      <div class="pad">
        <div class="row">
          <div>
            <div class="muted small"><a href="#/" id="backLink">‚Üê Back to Scoreboard</a></div>
            <h2 id="playerName" style="margin:8px 0 0; font-size:24px;">Player</h2>
            <div class="muted" id="playerMeta" style="margin-top:4px;"></div>
          </div>
          <div class="pill" id="playerPill">Player</div>
        </div>

        <ul id="picksList" class="list" aria-label="Picks list"></ul>
      </div>
    </section>

    <!-- RULES VIEW -->
    <section id="view-rules" class="card hide">
      <div class="pad">
        <h2 style="margin-top:0;">Rules</h2>
        <p class="muted">Add your rules here later.</p>
        <ul class="list">
          <li>8 PICKS, ONE HAS TO BE 30 OR UNDER</li>
          <li>IF THEY HAVE A WIKIPEDIA PAGE, THEY ARE FAMOUS ENOUGH TO BE ON YOUR LIST - BUT THEY CAN'T BE FAMOUS JUST FOR BEING SICK - NEW RULE COMING NEXT YEAR</li>
          <li>SCORING IS CALCULATED BY SUBTRACTING YOUR PICK'S AGE FROM 100</li>
          <li>POOL STARTS 2/1/26, ENDS 12/31/26</li>
          <li>TIE GOES TO WHOEVER SCORED FIRST</li>
          <li>IF IT'S STILL A TIE, THE TIED PLAYERS CAN EITHER SPLIT IT OR GUESS A NUMBER BETWEEN 1-100 </li>
        </ul>
      </div>
    </section>

    <!-- SHIT TALKING VIEW -->
    <section id="view-talk" class="card hide">
      <div class="pad">
        <h2 style="margin-top:0;">Shit Talking</h2>
        <p class="muted">Say your piece. Everyone can see it.</p>

        <form id="talkForm" class="list" style="margin-bottom:16px;">
          <li>
            <label class="muted small">Name (optional)</label>
            <input id="talkName" placeholder="Anonymous" style="width:100%;margin-top:6px;padding:10px;border-radius:10px;border:1px solid var(--line);background:transparent;color:var(--text);font:inherit;" />
          </li>
          <li>
            <label class="muted small">Comment</label>
            <textarea id="talkText" required placeholder="Talk your shit‚Ä¶" rows="3" style="width:100%;margin-top:6px;padding:10px;border-radius:10px;border:1px solid var(--line);background:transparent;color:var(--text);font:inherit;"></textarea>
          </li>
          <li style="text-align:right;">
            <button class="btn" type="submit">Post Comment</button>
          </li>
        </form>

        <ul id="talkList" class="list"></ul>
      </div>
    </section>



  </main>

  <script>
    /******************************************************************
     * DATA (EDIT HERE)
     * - points: number you manually enter
     * - picks: 8 strings (each player has their own list)
     ******************************************************************/
    const PLAYERS = [
      { id: 1, name: "Glenn", points: 0, note: "‚Äî", picks: ["Phil Collins","Richard Dreyfuss","Eric Dane","Bruce Willis","Billy Connolly","Alan Alda","Tylor Chase","Madison Beer"] },
      { id: 2, name: "Nancy", points: 0, note: "‚Äî", picks: ["Eric Dane","Ariana Grande","Jeffrey Dean Morgan","Tylor Chase","Billy Joel","Dave Coulier","Joe Exotic","Jessie Murph"] },
      { id: 3, name: "Lili", points: 0, note: "‚Äî", picks: ["Christa Pike","Wade Wilson (criminal)","Gypsy Rose Blanchard","Clint Eastwood","Tylor Chase","Eugenia Cooney","Bryan Kohberger","Jake Paul"] },
      { id: 4, name: "Travis", points: 0, note: "‚Äî", picks: ["Norman Reedus","Clint Eastwood","Mick Jagger","Al Pacino","Whoopi Goldberg","Bernie Sanders","Nancy Pelosi","Greta Thunberg"] },
      { id: 5, name: "Kori", points: 0, note: "‚Äî", picks: ["Bruce Willis","Phil Collins","Eric Dane","Bill Clinton","Ali Khamenei","Prince Andrew","Kurupt","Jack Veal"] },
      { id: 6, name: "Jack", points: 0, note: "‚Äî", picks: ["Dean Harrison","John McGuinness","Conor Cummins","David Irving","Ben Sasse","Michael Bolton","Esther Brantzen","Davey Todd"] },
      { id: 7, name: "Player 7", points: 0, note: "‚Äî", picks: ["Pick 1","Pick 2","Pick 3","Pick 4","Pick 5","Pick 6","Pick 7","Pick 8"] },
      { id: 8, name: "Player 8", points: 0, note: "‚Äî", picks: ["Pick 1","Pick 2","Pick 3","Pick 4","Pick 5","Pick 6","Pick 7","Pick 8"] },
      { id: 9, name: "Player 9", points: 0, note: "‚Äî", picks: ["Pick 1","Pick 2","Pick 3","Pick 4","Pick 5","Pick 6","Pick 7","Pick 8"] },
      { id: 10, name: "Player 10", points: 0, note: "‚Äî", picks: ["Pick 1","Pick 2","Pick 3","Pick 4","Pick 5","Pick 6","Pick 7","Pick 8"] },
    ];

    /******************************************************************
     * ROUTING
     * - #/           => scoreboard
     * - #/player/ID  => player page
     ******************************************************************/
    const elScoreView = document.getElementById("view-scoreboard");
    const elPlayerView = document.getElementById("view-player");
const elRulesView = document.getElementById("view-rules");
const elTalkView = document.getElementById("view-talk");

    const pageTitle = document.getElementById("pageTitle");
    const pageSubtitle = document.getElementById("pageSubtitle");

    const scoreRows = document.getElementById("scoreRows");

    const playerName = document.getElementById("playerName");
    const playerMeta = document.getElementById("playerMeta");
    const playerPill = document.getElementById("playerPill");
    const picksList = document.getElementById("picksList");

    const homeBtn = document.getElementById("homeBtn");
const rulesBtn = document.getElementById("rulesBtn");
const talkBtn = document.getElementById("talkBtn");
const dontPressBtn = document.getElementById("dontPressBtn");
homeBtn.addEventListener("click", () => { location.hash = "#/"; });
rulesBtn.addEventListener("click", () => { location.hash = "#/rules"; });
talkBtn.addEventListener("click", () => { location.hash = "#/talk"; });
dontPressBtn.addEventListener("click", () => { window.open("https://www.youtube.com/watch?v=dQw4w9WgXcQ&list=RDdQw4w9WgXcQ&start_radio=1&pp=ygUXbmV2ZXIgZ29ubmEgZ2l2ZSB5b3UgdXCgBwE%3D", "_blank", "noopener,noreferrer"); });

    function escapeHTML(str){
      return String(str)
        .replaceAll("&","&amp;").replaceAll("<","&lt;")
        .replaceAll(">","&gt;").replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    
    function toWikiLink(text){
      const q = String(text ?? "").trim();
      if (!q) return escapeHTML(text);
      const url = "https://en.wikipedia.org/wiki/Special:Search?search=" + encodeURIComponent(q);
      return `<a href="${url}" target="_blank" rel="noopener noreferrer">${escapeHTML(text)}</a>`;
    }

    function renderScoreboard(){
      pageTitle.textContent = "Scoreboard";
      pageSubtitle.textContent = "Click a player to view their picks.";

      elScoreView.classList.remove("hide");
      elPlayerView.classList.add("hide");
      elRulesView.classList.add("hide");
      elTalkView.classList.add("hide");

      // Sort by points desc, then name asc (stable display)
      
      const sorted = [...PLAYERS].sort((a,b) => (b.points - a.points) || a.name.localeCompare(b.name));

      // store previous scores for animation
      if (!window._prevScores) window._prevScores = {};
    

      scoreRows.innerHTML = "";
      sorted.forEach((p, idx) => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td class="rank">${(idx === 0 && sorted[0].points > 0) ? "üëë" : "#" + (idx + 1)}</td>
          <td style="font-size:26px; letter-spacing:1px; text-shadow: 0 0 6px #ff4ecd, 0 0 14px rgba(255,78,205,.8), 0 0 22px rgba(255,78,205,.6);"><a href="#/player/${encodeURIComponent(p.id)}">${escapeHTML(p.name)}</a></td>
          <td class="score right" style="font-size:32px; font-weight:900; text-shadow: 0 0 8px #3ddc97, 0 0 18px rgba(61,220,151,.9), 0 0 30px rgba(61,220,151,.7);" data-id="${p.id}">${Number.isFinite(p.points) ? p.points : 0}</td>
        `;
        
        scoreRows.appendChild(tr);

        const scoreCell = tr.querySelector(".score");
        const prev = window._prevScores[p.id];
        if (prev !== undefined && prev !== p.points){
          scoreCell.style.transform = "scale(1.25)";
          scoreCell.style.color = "var(--good)";
          setTimeout(() => {
            scoreCell.style.transform = "scale(1)";
            scoreCell.style.color = "";
          }, 300);
        }
        window._prevScores[p.id] = p.points;
    
      });
    }

    function renderPlayer(id){
      const player = PLAYERS.find(p => String(p.id) === String(id)) || PLAYERS[0];

      pageTitle.textContent = "Player Picks";
      pageSubtitle.textContent = "Return to the scoreboard anytime.";

      elScoreView.classList.add("hide");
      elPlayerView.classList.remove("hide");
      elRulesView.classList.add("hide");
      elTalkView.classList.add("hide");

      playerName.textContent = player.name;
      playerMeta.textContent = `Points: ${Number.isFinite(player.points) ? player.points : 0} ‚Ä¢ 8 picks`;
      playerPill.textContent = `ID: ${player.id}`;

      // IMPORTANT: Do NOT replace the #picksList element.
      // Replacing it breaks subsequent navigation because the cached picksList reference
      // points to a detached element after the first click.
      const picksListEl = document.getElementById("picksList");
      picksListEl.innerHTML = "";

      const picks = Array.isArray(player.picks) ? player.picks : [];
      for (let i = 0; i < 8; i++){
        const pick = picks[i] ?? `Pick ${i + 1}`;
        const li = document.createElement("li");

        // Use your existing #picksList li styling; add last-pick class for the 8th item
        li.className = "pick-item" + (i === 7 ? " last-pick" : "");
        li.style.animationDelay = `${i * 90}ms`;

        li.innerHTML = `<span class="pickText">${toWikiLink(pick)}</span>`;
        picksListEl.appendChild(li);
      }
    }

    function route(){
      const hash = location.hash || "#/";
      // expected: #/ or #/player/3
      const parts = hash.replace(/^#\/?/, "").split("/").filter(Boolean);

      if (parts.length === 0){
        renderScoreboard();
        return;
      }

      if (parts[0] === "player" && parts[1]){
        renderPlayer(parts[1]);
        return;
      }

      if (parts[0] === "rules"){
        pageTitle.textContent = "Rules";
        pageSubtitle.textContent = "How the game works";
        elScoreView.classList.add("hide");
        elPlayerView.classList.add("hide");
        elRulesView.classList.remove("hide");
        elTalkView.classList.add("hide");
        return;
      }

      if (parts[0] === "talk"){
        pageTitle.textContent = "Shit Talking";
        pageSubtitle.textContent = "Keep it spicy (and fun)";
        elScoreView.classList.add("hide");
        elPlayerView.classList.add("hide");
        elRulesView.classList.add("hide");
        elTalkView.classList.remove("hide");
        loadTalk();
        return;
      }

      // fallback
      location.hash = "#/";
    }

    
    // ---- Shit Talking (localStorage) ----
    const talkForm = document.getElementById("talkForm");
    const talkList = document.getElementById("talkList");

    function loadTalk(){
      const items = JSON.parse(localStorage.getItem("shitTalking") || "[]");
      talkList.innerHTML = "";
      items.slice().reverse().forEach(item => {
        const li = document.createElement("li");
        li.innerHTML = `<strong>${escapeHTML(item.name || "Anonymous")}</strong>
                        <div class="muted small">${new Date(item.time).toLocaleString()}</div>
                        <div style="margin-top:6px;">${escapeHTML(item.text)}</div>`;
        talkList.appendChild(li);
      });
    }

    talkForm?.addEventListener("submit", e => {
      e.preventDefault();
      const name = document.getElementById("talkName").value.trim();
      const text = document.getElementById("talkText").value.trim();
      if (!text) return;

      const items = JSON.parse(localStorage.getItem("shitTalking") || "[]");
      items.push({ name, text, time: Date.now() });
      localStorage.setItem("shitTalking", JSON.stringify(items));

      document.getElementById("talkText").value = "";
      loadTalk();
    });

    window.addEventListener("hashchange", route);
    route();
    
  </script>

<!-- Deadpool intro sound (plays once per browser) -->
<audio id="deadpool-intro" src="deadpool.mp3" preload="auto"></audio>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const audio = document.getElementById("deadpool-intro");
  if (!audio) return;

  audio.volume = 0.9;

  const tryPlay = () => {
    const p = audio.play();
    if (p && typeof p.catch === "function") {
      p.catch(() => {
        // Autoplay blocked: play on first user interaction
        const unlock = () => {
          audio.play().catch(() => {});
        };
        ["pointerdown","touchstart","keydown","click"].forEach(evt => {
          document.addEventListener(evt, unlock, { once: true, passive: true });
        });
      });
    }
  };

  // Try immediately, then once more shortly after (some browsers need a tick)
  tryPlay();
  setTimeout(tryPlay, 350);
});
</script>

</body>
</html>
